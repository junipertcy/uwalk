!function(a){a.fn.menu=function(b){var c=a.extend({},a.fn.menu.defaults,b),d={},e=0,f=function(b){a(b).data("menu-id",++e)},g=function(b){return a(b).data("menu-id")},h=function(b){return a(b).find("."+c.subMenuClass).first()},i=function(b){a(b).removeClass(c.visibleMenuItemClass),h(b).hide()},j=function(b){a(b).addClass(c.visibleMenuItemClass),h(b).show()};return this.each(function(){var b=this;a(b).find("."+c.menuItemClass).each(function(a,b){f(b)}).on("mouseenter",function(b){var c=this;d[g(c)]&&d[g(c)].callback>0&&clearTimeout(d[g(c)].callback),a.each(d,function(b,d){b!==g(c)&&0===a(d.element).find(c).length&&0===a(c).find(d.element).length&&i(d.element)}),j(c)}).on("mouseleave",function(e){var f=this;a(b).is(document.elementFromPoint(e.clientX,e.clientY))?i(f):d[g(f)]={element:f,callback:setTimeout(function(){i(f)},c.delay)}})})},a.fn.menu.defaults={delay:300,subMenuClass:"sub-menu",menuItemClass:"menu-item",visibleMenuItemClass:"is-menu-item-visible"}}(jQuery);